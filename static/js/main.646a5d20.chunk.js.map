{"version":3,"sources":["App.js","index.js"],"names":["STATUS","App","useState","numDiners","setNumDiners","isEveryoneAboveTwelveVaccinated","setIsEveryoneAboveTwelveVaccinated","isDinersFromSameHousehold","setIsDinersFromSameHousehold","numChildren","setNumChildren","numAdults","setNumAdults","isAllowed","setIsAllowed","numDinersBeyondLimits","reset","useEffect","marginX","marginY","spacing","as","size","marginBottom","fontSize","bg","paddingY","borderColor","borderWidth","value","onChange","event","parseInt","target","_","times","num","disabled","range","map","diner","onClick","variant","color","rel","href","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.646a5d20.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport _ from 'lodash';\r\n\r\nimport {\r\n  Button,\r\n  ButtonGroup,\r\n  Center,\r\n  Select,\r\n  Stack,\r\n  Heading,\r\n  Text,\r\n  Divider,\r\n} from '@chakra-ui/react';\r\n\r\nconst GITHUB_URL = 'https://github.com/renyitan';\r\n\r\nconst ST_INFOGRAPHIC_URL =\r\n  'https://www.straitstimes.com/singapore/health/dine-in-group-size-cut-to-2-from-july-19-as-spore-tightens-covid-19-rules-but-up-to';\r\n\r\nconst STATUS = {\r\n  ALLOWED: 'Allowed',\r\n  NO_RESULTS: \"Press 'Check' for results\",\r\n  NOT_ALLOWED: 'Not Allowed',\r\n};\r\n\r\nfunction App() {\r\n  const [numDiners, setNumDiners] = useState(2);\r\n  const [isEveryoneAboveTwelveVaccinated, setIsEveryoneAboveTwelveVaccinated] =\r\n    useState(false);\r\n  const [isDinersFromSameHousehold, setIsDinersFromSameHousehold] =\r\n    useState(false);\r\n  const [numChildren, setNumChildren] = useState(0);\r\n  const [numAdults, setNumAdults] = useState(numDiners);\r\n\r\n  const [isAllowed, setIsAllowed] = useState('');\r\n\r\n  const numDinersBeyondLimits = () => numDiners <= 2 || numDiners >= 6;\r\n\r\n  function reset() {\r\n    setIsAllowed('');\r\n    setNumDiners(2);\r\n    setIsEveryoneAboveTwelveVaccinated(false);\r\n    setIsDinersFromSameHousehold(false);\r\n    setNumChildren(0);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (numDiners === 2) reset();\r\n  }, [numDiners]);\r\n\r\n  useEffect(() => {\r\n    setNumAdults(numDiners - numChildren);\r\n  }, [numChildren, numDiners]);\r\n\r\n  useEffect(() => {\r\n    setIsAllowed('');\r\n  }, [\r\n    numDiners,\r\n    isEveryoneAboveTwelveVaccinated,\r\n    isDinersFromSameHousehold,\r\n    numChildren,\r\n  ]);\r\n\r\n  function displayResults() {\r\n    if (isAllowed === '') return STATUS.NO_RESULTS;\r\n    else return isAllowed ? STATUS.ALLOWED : STATUS.NOT_ALLOWED;\r\n  }\r\n\r\n  function displayResultsBackground() {\r\n    if (isAllowed === '') return 'gray.200';\r\n    else return isAllowed ? 'green.200' : 'red.200';\r\n  }\r\n\r\n  function checkResults() {\r\n    if (numDiners <= 2) {\r\n      setIsAllowed(true);\r\n      return;\r\n    }\r\n    if (numDiners >= 6) {\r\n      setIsAllowed(false);\r\n      return;\r\n    }\r\n\r\n    // case 1: all adults, no children\r\n    if (numAdults === numDiners) {\r\n      const isAllowed = isEveryoneAboveTwelveVaccinated;\r\n      setIsAllowed(isAllowed);\r\n      return;\r\n    }\r\n\r\n    // case 2: all children, no adults\r\n    if (numAdults === 0) {\r\n      // case 2a: if number of children less than 5\r\n      const isAllowed = numChildren < 5;\r\n      setIsAllowed(isAllowed);\r\n      return;\r\n    }\r\n\r\n    // case 3: some children, some adults, same household\r\n    if (isDinersFromSameHousehold) {\r\n      // case 3a: adult(s) is or are vaccinated\r\n      if (isEveryoneAboveTwelveVaccinated) {\r\n        const isAllowed = numDiners <= 5 ? true : false;\r\n        setIsAllowed(isAllowed);\r\n      } else {\r\n        setIsAllowed(false);\r\n      }\r\n      return;\r\n    }\r\n\r\n    // case 4: some children, some adults, different household\r\n    if (!isDinersFromSameHousehold) {\r\n      // case 4a: adults are fully vaccinated\r\n      if (isEveryoneAboveTwelveVaccinated) {\r\n        const isAllowed = numChildren / numDiners <= 0.5 ? true : false;\r\n        setIsAllowed(isAllowed);\r\n      } else {\r\n        setIsAllowed(false);\r\n      }\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Center marginX={10} marginY={5}>\r\n        <Stack spacing={3}>\r\n          <div>\r\n            <Heading as=\"h2\" size=\"sm\" marginBottom={2}>\r\n              Can You Dine Out Safely?\r\n            </Heading>\r\n\r\n            <Text fontSize=\"xs\">\r\n              Based on latest COVID-19 Measures effective July 19, 2021\r\n            </Text>\r\n            <Text fontSize=\"xs\">in Singapore</Text>\r\n          </div>\r\n          <div>\r\n            <Center bg={displayResultsBackground} paddingY={4} marginY={2}>\r\n              <Heading as=\"h5\" size=\"sm\">\r\n                {displayResults()}\r\n              </Heading>\r\n            </Center>\r\n          </div>\r\n\r\n          <div>\r\n            <Heading as=\"h5\" size=\"sm\">\r\n              Total number of diners\r\n            </Heading>\r\n\r\n            <Select\r\n              borderColor={'green.200'}\r\n              borderWidth={2}\r\n              value={numDiners}\r\n              onChange={(event) => setNumDiners(parseInt(event.target.value))}\r\n            >\r\n              {_.times(5, (num) => (\r\n                <option value={num + 1} key={num + 1}>\r\n                  {num + 1}\r\n                </option>\r\n              ))}\r\n              <option value={6}>More than 6</option>\r\n            </Select>\r\n          </div>\r\n\r\n          <div>\r\n            <Heading as=\"h5\" size=\"sm\">\r\n              How many children are there?\r\n            </Heading>\r\n\r\n            <Select\r\n              borderColor={numDinersBeyondLimits() ? 'gray.200' : 'green.200'}\r\n              borderWidth={numDinersBeyondLimits() ? 1 : 2}\r\n              disabled={numDinersBeyondLimits()}\r\n              value={numChildren}\r\n              onChange={(event) => setNumChildren(event.target.value)}\r\n            >\r\n              {_.range(0, numDiners + 1).map((diner) => (\r\n                <option key={diner} value={diner}>\r\n                  {diner}\r\n                </option>\r\n              ))}\r\n            </Select>\r\n          </div>\r\n\r\n          <div>\r\n            <Heading as=\"h5\" size=\"sm\">\r\n              Is everyone above 12 years old fully vaccinated?\r\n            </Heading>\r\n\r\n            <Select\r\n              borderColor={numDinersBeyondLimits() ? 'gray.200' : 'green.200'}\r\n              borderWidth={numDinersBeyondLimits() ? 1 : 2}\r\n              value={isEveryoneAboveTwelveVaccinated ? 'yes' : 'no'}\r\n              disabled={numDinersBeyondLimits()}\r\n              onChange={(event) =>\r\n                setIsEveryoneAboveTwelveVaccinated(\r\n                  event.target.value === 'yes' || false\r\n                )\r\n              }\r\n            >\r\n              <option value=\"yes\">Yes</option>\r\n              <option value=\"no\">No</option>\r\n            </Select>\r\n          </div>\r\n\r\n          <div>\r\n            <Heading as=\"h5\" size=\"sm\">\r\n              Are all diners from the same household?\r\n            </Heading>\r\n            <Select\r\n              borderColor={numDinersBeyondLimits() ? 'gray.200' : 'green.200'}\r\n              borderWidth={numDinersBeyondLimits() ? 1 : 2}\r\n              value={isDinersFromSameHousehold ? 'yes' : 'no'}\r\n              disabled={numDinersBeyondLimits()}\r\n              onChange={(event) =>\r\n                setIsDinersFromSameHousehold(\r\n                  event.target.value === 'yes' ?? false\r\n                )\r\n              }\r\n            >\r\n              <option value=\"yes\">Yes</option>\r\n              <option value=\"no\">No</option>\r\n            </Select>\r\n          </div>\r\n\r\n          <ButtonGroup>\r\n            <Button onClick={() => checkResults()} variant=\"outline\">\r\n              Check\r\n            </Button>\r\n            <Button onClick={() => reset()} variant=\"outline\">\r\n              Reset\r\n            </Button>\r\n          </ButtonGroup>\r\n          <Divider />\r\n          <Text fontSize=\"xs\" color=\"gray.400\">\r\n            Developed by{' '}\r\n            <a target=\"_blank\" rel=\"noreferrer\" href={GITHUB_URL}>\r\n              <u>Renyi Tan</u>\r\n            </a>\r\n          </Text>\r\n          <Text fontSize=\"xs\" color=\"gray.400\">\r\n            Information from{' '}\r\n            <a target=\"_blank\" rel=\"noreferrer\" href={ST_INFOGRAPHIC_URL}>\r\n              <u>ST Infographics</u>\r\n            </a>\r\n          </Text>\r\n        </Stack>\r\n      </Center>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nimport { ChakraProvider } from '@chakra-ui/react';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <ChakraProvider>\r\n      <App />\r\n    </ChakraProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}