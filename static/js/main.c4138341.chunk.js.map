{"version":3,"sources":["App.js","index.js"],"names":["STATUS","App","useState","numDiners","setNumDiners","isEveryoneAboveTwelveVaccinated","setIsEveryoneAboveTwelveVaccinated","isDinersFromSameHousehold","setIsDinersFromSameHousehold","numChildren","setNumChildren","numAdults","setNumAdults","isAllowed","setIsAllowed","reset","useEffect","marginX","marginY","spacing","as","size","marginBottom","fontSize","bg","paddingY","borderColor","borderWidth","value","onChange","event","parseInt","target","_","times","num","disabled","range","map","diner","onClick","variant","color","rel","href","theme","extendTheme","components","Select","baseStyle","_focus","boxShadow","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c4138341.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\nimport _ from 'lodash';\n\nimport {\n  Button,\n  ButtonGroup,\n  Center,\n  Select,\n  Stack,\n  Heading,\n  Text,\n  Divider,\n} from '@chakra-ui/react';\n\nconst GITHUB_URL = 'https://github.com/renyitan';\n\nconst ST_INFOGRAPHIC_URL =\n  'https://www.straitstimes.com/singapore/health/dine-in-group-size-cut-to-2-from-july-19-as-spore-tightens-covid-19-rules-but-up-to';\n\nconst STATUS = {\n  ALLOWED: 'Allowed',\n  NO_RESULTS: \"Press 'Check' for results\",\n  NOT_ALLOWED: 'Not Allowed',\n};\n\nfunction App() {\n  const [numDiners, setNumDiners] = useState(2);\n  const [isEveryoneAboveTwelveVaccinated, setIsEveryoneAboveTwelveVaccinated] =\n    useState(false);\n  const [isDinersFromSameHousehold, setIsDinersFromSameHousehold] =\n    useState(false);\n  const [numChildren, setNumChildren] = useState(0);\n  const [numAdults, setNumAdults] = useState(numDiners);\n\n  const [isAllowed, setIsAllowed] = useState('');\n\n  function reset() {\n    setIsAllowed('');\n    setNumDiners(2);\n    setIsEveryoneAboveTwelveVaccinated(false);\n    setIsDinersFromSameHousehold(false);\n    setNumChildren(0);\n  }\n\n  useEffect(() => {\n    if (numDiners === 2) reset();\n  }, [numDiners]);\n\n  useEffect(() => {\n    setNumAdults(numDiners - numChildren);\n  }, [numChildren, numDiners]);\n\n  useEffect(() => {\n    setIsAllowed('');\n  }, [\n    numDiners,\n    isEveryoneAboveTwelveVaccinated,\n    isDinersFromSameHousehold,\n    numChildren,\n  ]);\n\n  function displayResults() {\n    if (isAllowed === '') return STATUS.NO_RESULTS;\n    else return isAllowed ? STATUS.ALLOWED : STATUS.NOT_ALLOWED;\n  }\n\n  function displayResultsBackground() {\n    if (isAllowed === '') return 'gray.200';\n    else return isAllowed ? 'green.200' : 'red.200';\n  }\n\n  function checkResults() {\n    if (numDiners <= 2) {\n      setIsAllowed(true);\n      return;\n    }\n    if (numDiners >= 6) {\n      setIsAllowed(false);\n      return;\n    }\n\n    // case 1: all adults, no children\n    if (numAdults === numDiners) {\n      const isAllowed = isEveryoneAboveTwelveVaccinated;\n      setIsAllowed(isAllowed);\n      return;\n    }\n\n    // case 2: all children, no adults\n    if (numAdults === 0) {\n      // case 2a: if number of children less than 5\n      const isAllowed = numChildren < 5;\n      setIsAllowed(isAllowed);\n      return;\n    }\n\n    // case 3: some children, some adults, same household\n    if (isDinersFromSameHousehold) {\n      // case 3a: adult(s) is or are vaccinated\n      if (isEveryoneAboveTwelveVaccinated) {\n        const isAllowed = numDiners <= 5 ? true : false;\n        setIsAllowed(isAllowed);\n      } else {\n        setIsAllowed(false);\n      }\n      return;\n    }\n\n    // case 4: some children, some adults, different household\n    if (!isDinersFromSameHousehold) {\n      // case 4a: adults are fully vaccinated\n      if (isEveryoneAboveTwelveVaccinated) {\n        const isAllowed = numChildren / numDiners <= 0.5 ? true : false;\n        setIsAllowed(isAllowed);\n      } else {\n        setIsAllowed(false);\n      }\n    }\n\n    return;\n  }\n\n  return (\n    <div>\n      <Center marginX={10} marginY={5}>\n        <Stack spacing={3}>\n          <div>\n            <Heading as=\"h2\" size=\"sm\" marginBottom={2}>\n              Can You Dine Out Safely?\n            </Heading>\n\n            <Text fontSize=\"xs\">\n              Based on latest COVID-19 Measures w.e.f July 19, 2021\n            </Text>\n            <Text fontSize=\"xs\">in Singapore</Text>\n          </div>\n          <div>\n            <Center bg={displayResultsBackground} paddingY={4} marginY={2}>\n              <Heading as=\"h5\" size=\"sm\">\n                {displayResults()}\n              </Heading>\n            </Center>\n          </div>\n\n          <div>\n            <Heading as=\"h5\" size=\"sm\">\n              Total number of diners\n            </Heading>\n\n            <Select\n              borderColor={'green.200'}\n              borderWidth={2}\n              value={numDiners}\n              onChange={(event) => setNumDiners(parseInt(event.target.value))}\n            >\n              {_.times(5, (num) => (\n                <option value={num + 1} key={num + 1}>\n                  {num + 1}\n                </option>\n              ))}\n              <option value={6}>More than 6</option>\n            </Select>\n          </div>\n\n          <div>\n            <Heading as=\"h5\" size=\"sm\">\n              How many children are there?\n            </Heading>\n\n            <Select\n              borderColor={\n                numDiners <= 2 || numDiners >= 6 ? 'gray.200' : 'green.200'\n              }\n              borderWidth={numDiners <= 2 || numDiners >= 6 ? 1 : 2}\n              disabled={numDiners <= 2 || numDiners >= 6}\n              value={numChildren}\n              onChange={(event) => setNumChildren(event.target.value)}\n            >\n              {_.range(0, numDiners + 1).map((diner) => (\n                <option key={diner} value={diner}>\n                  {diner}\n                </option>\n              ))}\n            </Select>\n          </div>\n\n          <div>\n            <Heading as=\"h5\" size=\"sm\">\n              Is everyone above 12 years old fully vaccinated?\n            </Heading>\n\n            <Select\n              borderColor={\n                numDiners <= 2 || numDiners >= 6 ? 'gray.200' : 'green.200'\n              }\n              borderWidth={numDiners <= 2 || numDiners >= 6 ? 1 : 2}\n              value={isEveryoneAboveTwelveVaccinated ? 'yes' : 'no'}\n              disabled={numDiners <= 2 || numDiners >= 6}\n              onChange={(event) =>\n                setIsEveryoneAboveTwelveVaccinated(\n                  event.target.value === 'yes' || false\n                )\n              }\n            >\n              <option value=\"yes\">Yes</option>\n              <option value=\"no\">No</option>\n            </Select>\n          </div>\n\n          <div>\n            <Heading as=\"h5\" size=\"sm\">\n              Are all diners from the same household?\n            </Heading>\n            <Select\n              borderColor={\n                numDiners <= 2 || numDiners >= 6 ? 'gray.200' : 'green.200'\n              }\n              borderWidth={numDiners <= 2 || numDiners >= 6 ? 1 : 2}\n              value={isDinersFromSameHousehold ? 'yes' : 'no'}\n              disabled={numDiners <= 2 || numDiners >= 6}\n              onChange={(event) =>\n                setIsDinersFromSameHousehold(\n                  event.target.value === 'yes' ?? false\n                )\n              }\n            >\n              <option value=\"yes\">Yes</option>\n              <option value=\"no\">No</option>\n            </Select>\n          </div>\n\n          <ButtonGroup>\n            <Button onClick={() => checkResults()} variant=\"outline\">\n              Check\n            </Button>\n            <Button onClick={() => reset()} variant=\"outline\">\n              Reset\n            </Button>\n          </ButtonGroup>\n          <Divider />\n          <Text fontSize=\"xs\" color=\"gray.400\">\n            Developed by{' '}\n            <a target=\"_blank\" rel=\"noreferrer\" href={GITHUB_URL}>\n              <u>Renyi Tan</u>\n            </a>\n          </Text>\n          <Text fontSize=\"xs\" color=\"gray.400\">\n            Information from{' '}\n            <a target=\"_blank\" rel=\"noreferrer\" href={ST_INFOGRAPHIC_URL}>\n              <u>ST Infographics</u>\n            </a>\n          </Text>\n        </Stack>\n      </Center>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport { ChakraProvider, extendTheme } from '@chakra-ui/react';\n\nconst theme = extendTheme({\n  components: {\n    Select: {\n      baseStyle: {\n        _focus: {\n          boxShadow: 'none',\n        },\n      },\n    },\n  },\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <ChakraProvider theme={theme}>\n      <App />\n    </ChakraProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}